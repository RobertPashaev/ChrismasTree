{"ast":null,"code":"import _defineProperty from\"/Users/robertpasaev/yakovled/treety/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/robertpasaev/yakovled/treety/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/robertpasaev/yakovled/treety/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Radio from'@mui/joy/Radio';import RadioGroup from'@mui/joy/RadioGroup';import{Box,Typography}from'@mui/joy';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RadioModal(_ref){var data=_ref.data,onPriceChange=_ref.onPriceChange,onDimension=_ref.onDimension,dimensions=_ref.dimensions;var _useState=useState({height:data.prices[0].height+' см',diameter:data.dimensions[0].radius+' см'}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState(data.prices[0].price),_useState4=_slicedToArray(_useState3,2),selectedPrice=_useState4[0],setSelectedPrice=_useState4[1];var getPrice=function getPrice(values){var height=values.height;var priceObj=data.prices.find(function(price){return price.height===height;});if(priceObj){var price=priceObj.price;return price;}return null;};var handleChange=function handleChange(groupId,value){setValues(function(prevValues){var newValues=_objectSpread(_objectSpread({},prevValues),{},_defineProperty({},groupId,value));if(groupId==='height'){var dimensionObj=data.dimensions.find(function(dimension){return dimension.height===value.replace(' см','');});if(dimensionObj){newValues.diameter=dimensionObj.radius+' см';}}else if(groupId==='diameter'){var _dimensionObj=data.dimensions.find(function(dimension){return dimension.radius===value.replace(' см','');});if(_dimensionObj){newValues.height=_dimensionObj.height+' см';}}var height=newValues.height.replace(' см','');var newPrice=getPrice(_objectSpread(_objectSpread({},newValues),{},{height:height}));setSelectedPrice(newPrice);onPriceChange(newPrice);onDimension({height:newValues.height.replace(' см',''),diameter:newValues.diameter.replace(' см','')});return newValues;});};var radioGroups=[{id:'height',label:'Высота:',options:data.prices.map(function(price){return price.height+' см';})},{id:'diameter',label:'Диаметр:',options:data.dimensions.map(function(dimension){return dimension.radius+' см';})},{id:'fastenings',label:'Крепления:',options:[data.branch],defaultValue:data.branch}];return/*#__PURE__*/_jsx(Box,{display:\"flex\",flexDirection:\"column\",gap:2,textAlign:'center',alignItems:'center',children:radioGroups.map(function(_ref2){var id=_ref2.id,label=_ref2.label,options=_ref2.options,defaultValue=_ref2.defaultValue;return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',width:'fit-content'},children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"lg\",fontSize:\"sm\",children:label}),/*#__PURE__*/_jsx(RadioGroup,{orientation:\"horizontal\",\"aria-labelledby\":id,name:id,value:values[id]||defaultValue||'',onChange:function onChange(event){return handleChange(id,event.target.value);},sx:{minHeight:30,padding:'4px',borderRadius:'12px',bgcolor:'neutral.softBg','--RadioGroup-gap':'4px','--Radio-actionRadius':'8px'},children:options.map(function(option){return/*#__PURE__*/_jsx(Radio,{color:\"neutral\",value:option,disableIcon:true,label:option,variant:\"plain\",sx:{px:1,alignItems:'center'},slotProps:{action:function action(_ref3){var checked=_ref3.checked;return{sx:_objectSpread({},checked&&{bgcolor:'background.surface',boxShadow:'sm','&:hover':{bgcolor:'background.surface'}})};}}},option);})})]},id);})});}","map":{"version":3,"names":["React","useState","useEffect","Radio","RadioGroup","Box","Typography","jsx","_jsx","jsxs","_jsxs","RadioModal","_ref","data","onPriceChange","onDimension","dimensions","_useState","height","prices","diameter","radius","_useState2","_slicedToArray","values","setValues","_useState3","price","_useState4","selectedPrice","setSelectedPrice","getPrice","priceObj","find","handleChange","groupId","value","prevValues","newValues","_objectSpread","_defineProperty","dimensionObj","dimension","replace","newPrice","radioGroups","id","label","options","map","branch","defaultValue","display","flexDirection","gap","textAlign","alignItems","children","_ref2","sx","width","fontWeight","fontSize","orientation","name","onChange","event","target","minHeight","padding","borderRadius","bgcolor","option","color","disableIcon","variant","px","slotProps","action","_ref3","checked","boxShadow"],"sources":["/Users/robertpasaev/yakovled/treety/src/components/RadioModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Radio from '@mui/joy/Radio';\nimport RadioGroup from '@mui/joy/RadioGroup';\nimport { Box, Typography } from '@mui/joy';\n\nexport default function RadioModal({ data, onPriceChange, onDimension, dimensions }) {\n  const [values, setValues] = useState({\n    height: data.prices[0].height + ' см',\n    diameter: data.dimensions[0].radius + ' см',\n  });\n  const [selectedPrice, setSelectedPrice] = useState(data.prices[0].price);\n\n  const getPrice = (values) => {\n    const { height } = values;\n    const priceObj = data.prices.find((price) => price.height === height);\n    if (priceObj) {\n      const price = priceObj.price;\n      return price;\n    }\n    return null;\n  };\n\n  const handleChange = (groupId, value) => {\n    setValues((prevValues) => {\n      const newValues = { ...prevValues, [groupId]: value };\n      if (groupId === 'height') {\n        const dimensionObj = data.dimensions.find(\n          (dimension) => dimension.height === value.replace(' см', '')\n        );\n        if (dimensionObj) {\n          newValues.diameter = dimensionObj.radius + ' см';\n        }\n      } else if (groupId === 'diameter') {\n        const dimensionObj = data.dimensions.find(\n          (dimension) => dimension.radius === value.replace(' см', '')\n        );\n        if (dimensionObj) {\n          newValues.height = dimensionObj.height + ' см';\n        }\n      }\n      const height = newValues.height.replace(' см', '');\n      const newPrice = getPrice({ ...newValues, height });\n      setSelectedPrice(newPrice);\n      onPriceChange(newPrice);\n      onDimension({\n        height: newValues.height.replace(' см', ''),\n        diameter: newValues.diameter.replace(' см', ''),\n      });\n      return newValues;\n    });\n  };\n\n  const radioGroups = [\n    {\n      id: 'height',\n      label: 'Высота:',\n      options: data.prices.map((price) => price.height + ' см'),\n    },\n    {\n      id: 'diameter',\n      label: 'Диаметр:',\n      options: data.dimensions.map((dimension) => dimension.radius + ' см'),\n    },\n    {\n      id: 'fastenings',\n      label: 'Крепления:',\n      options: [data.branch],\n      defaultValue: data.branch,\n    },\n  ];\n\n  return (\n    <Box\n      display='flex'\n      flexDirection='column'\n      gap={2}\n      textAlign={'center'}\n      alignItems={'center'}\n    >\n      {radioGroups.map(({ id, label, options, defaultValue }) => (\n        <Box\n          key={id}\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            width: 'fit-content',\n          }}\n        >\n          <Typography fontWeight='lg' fontSize='sm'>\n            {label}\n          </Typography>\n          <RadioGroup\n            orientation='horizontal'\n            aria-labelledby={id}\n            name={id}\n            value={values[id] || defaultValue || ''}\n            onChange={(event) => handleChange(id, event.target.value)}\n            sx={{\n              minHeight: 30,\n              padding: '4px',\n              borderRadius: '12px',\n              bgcolor: 'neutral.softBg',\n              '--RadioGroup-gap': '4px',\n              '--Radio-actionRadius': '8px',\n            }}\n          >\n            {options.map((option) => (\n              <Radio\n                key={option}\n                color='neutral'\n                value={option}\n                disableIcon\n                label={option}\n                variant='plain'\n                sx={{\n                  px: 1,\n                  alignItems: 'center',\n                }}\n                slotProps={{\n                  action: ({ checked }) => ({\n                    sx: {\n                      ...(checked && {\n                        bgcolor: 'background.surface',\n                        boxShadow: 'sm',\n                        '&:hover': {\n                          bgcolor: 'background.surface',\n                        },\n                      }),\n                    },\n                  }),\n                }}\n              />\n            ))}\n          </RadioGroup>\n        </Box>\n      ))}\n    </Box>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}