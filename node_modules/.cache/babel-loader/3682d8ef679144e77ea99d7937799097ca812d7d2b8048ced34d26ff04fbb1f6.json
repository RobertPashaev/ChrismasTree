{"ast":null,"code":"import _slicedToArray from\"/Users/robertpasaev/yakovled/treety/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Card from'@mui/joy/Card';import CardCover from'@mui/joy/CardCover';import CardContent from'@mui/joy/CardContent';import Typography from'@mui/joy/Typography';import DeleteAlert from'./DeleteAlert';import{Box}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CardSale(_ref){var setIsEmpty=_ref.setIsEmpty;var _useState=useState(JSON.parse(localStorage.getItem('cartItems'))),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var handleDelete=function handleDelete(card){var data=JSON.parse(localStorage.getItem('cartItems'))||[];var index=data.findIndex(function(item){return item.id===card.id;});data.splice(index,1);localStorage.setItem('cartItems',JSON.stringify(data));setCartItems(data);if(data.length===0){setIsEmpty(true);}};useEffect(function(){if(cartItems&&cartItems.length===0){setIsEmpty(true);}},[cartItems,setIsEmpty]);return/*#__PURE__*/_jsx(Box,{sx:{gap:'30px',display:'flex',flexDirection:'row',flexWrap:'wrap',justifyContent:'flex-start',marginBottom:'25px'},children:cartItems&&cartItems.map(function(card,index){return/*#__PURE__*/_jsxs(Card,{sx:{height:'450px',width:'350px'},children:[/*#__PURE__*/_jsx(CardCover,{children:/*#__PURE__*/_jsx(\"img\",{src:card.imageSrc,loading:\"lazy\",alt:\"\"})}),/*#__PURE__*/_jsx(CardCover,{sx:{background:'linear-gradient(to top, rgba(0,0,0,0.4), rgba(0,0,0,0) 150px), linear-gradient(to top, rgba(0,0,0,0.8), rgba(0,0,0,0) 250px)'}}),/*#__PURE__*/_jsxs(CardContent,{sx:{alignItems:'flex-start',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(DeleteAlert,{card:card,handleDelete:handleDelete}),/*#__PURE__*/_jsx(Typography,{level:\"title-lg\",textColor:\"#fff\",children:card.title}),/*#__PURE__*/_jsxs(Typography,{textColor:\"neutral.300\",children:[\"\\u0418\\u0442\\u043E\\u0433: \",card.price,\" \\u0420\\u0443\\u0431\\u043B\\u0435\\u0439\"]}),/*#__PURE__*/_jsxs(Typography,{textColor:\"neutral.300\",children:[\"\\u0412\\u044B\\u0441\\u043E\\u0442\\u0430: \",card.height,\"\\u0441\\u043C\"]}),/*#__PURE__*/_jsxs(Typography,{textColor:\"neutral.300\",children:[\"\\u0420\\u0430\\u0434\\u0438\\u0443\\u0441: \",card.radius,\"\\u0441\\u043C\"]}),/*#__PURE__*/_jsxs(Typography,{textColor:\"neutral.300\",children:[\"\\u041A\\u0440\\u0435\\u043F\\u043B\\u0435\\u043D\\u0438\\u044F \\u0432\\u0435\\u0442\\u043E\\u043A: \",card.branch]})]})]},index);})});}","map":{"version":3,"names":["React","useState","useEffect","Card","CardCover","CardContent","Typography","DeleteAlert","Box","jsx","_jsx","jsxs","_jsxs","CardSale","_ref","setIsEmpty","_useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","cartItems","setCartItems","handleDelete","card","data","index","findIndex","item","id","splice","setItem","stringify","length","sx","gap","display","flexDirection","flexWrap","justifyContent","marginBottom","children","map","height","width","src","imageSrc","loading","alt","background","alignItems","level","textColor","title","price","radius","branch"],"sources":["/Users/robertpasaev/yakovled/treety/src/components/CardSale.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Card from '@mui/joy/Card';\nimport CardCover from '@mui/joy/CardCover';\nimport CardContent from '@mui/joy/CardContent';\nimport Typography from '@mui/joy/Typography';\nimport DeleteAlert from './DeleteAlert';\nimport { Box } from '@mui/material';\nexport default function CardSale({ setIsEmpty }) {\n  const [cartItems, setCartItems] = useState(\n    JSON.parse(localStorage.getItem('cartItems'))\n  );\n\n  const handleDelete = (card) => {\n    const data = JSON.parse(localStorage.getItem('cartItems')) || [];\n    const index = data.findIndex((item) => item.id === card.id);\n\n    data.splice(index, 1);\n    localStorage.setItem('cartItems', JSON.stringify(data));\n    setCartItems(data);\n\n    if (data.length === 0) {\n      setIsEmpty(true);\n    }\n  };\n\n  useEffect(() => {\n    if (cartItems && cartItems.length === 0) {\n      setIsEmpty(true);\n    }\n  }, [cartItems, setIsEmpty]);\n\n\n  return (\n    <Box sx={{gap: '30px', display: 'flex', flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'flex-start', marginBottom: '25px'}}>\n      {cartItems &&\n        cartItems.map((card, index) => (\n          <Card sx={{ height: '450px', width: '350px' }} key={index}>\n            <CardCover>\n              <img src={card.imageSrc} loading='lazy' alt='' />\n            </CardCover>\n            <CardCover\n              sx={{\n                background:\n                  'linear-gradient(to top, rgba(0,0,0,0.4), rgba(0,0,0,0) 150px), linear-gradient(to top, rgba(0,0,0,0.8), rgba(0,0,0,0) 250px)',\n              }}\n            />\n            <CardContent\n              sx={{ alignItems: 'flex-start', justifyContent: 'flex-end' }}\n            >\n              <DeleteAlert card={card} handleDelete={handleDelete} />\n              <Typography level='title-lg' textColor='#fff'>\n                {card.title}\n              </Typography>\n              <Typography textColor='neutral.300'>\n                Итог: {card.price} Рублей\n              </Typography>\n              <Typography textColor='neutral.300'>\n                Высота: {card.height}см\n              </Typography>\n              <Typography textColor='neutral.300'>\n                Радиус: {card.radius}см\n              </Typography>\n              <Typography textColor='neutral.300'>\n                Крепления веток: {card.branch}\n              </Typography>\n            </CardContent>\n          </Card>\n        ))}\n    </Box>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}