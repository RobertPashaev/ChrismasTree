{"ast":null,"code":"import _toConsumableArray from\"/Users/robertpasaev/yakovled/treety/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/robertpasaev/yakovled/treety/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Box,Typography}from'@mui/joy';import Button from'@mui/joy/Button';import RadioModal from'./RadioModal';import CloseIcon from'@mui/icons-material/Close';import ModalItem from'./ModalItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CardItem(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,data=_ref.data,addBasket=_ref.addBasket,dimensions=_ref.dimensions;var _useState=useState(data.prices[0].price),_useState2=_slicedToArray(_useState,2),price=_useState2[0],setPrice=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),minPrice=_useState4[0],setMinPrice=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedPrice=_useState6[0],setselectedPrice=_useState6[1];var _useState7=useState({height:data.prices[0].height,diameter:data.dimensions[0].radius}),_useState8=_slicedToArray(_useState7,2),selectedDimensions=_useState8[0],setSelectedDimensions=_useState8[1];useEffect(function(){var prices=data.prices.map(function(price){return parseInt(price.price);});var min=Math.min.apply(Math,_toConsumableArray(prices));setMinPrice(min);setselectedPrice(data.prices[0].height);},[data.prices]);var handlePriceChange=function handlePriceChange(newPrice){setPrice(newPrice);setselectedPrice(newPrice);};var handleDimensionChange=function handleDimensionChange(newDimensions){setSelectedDimensions(newDimensions);};return/*#__PURE__*/_jsx(_Fragment,{children:isOpen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.5)',zIndex:1},onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',backgroundColor:'white',padding:'20px',borderRadius:'30px',gap:'10px',position:'fixed',zIndex:2,top:'50%',left:'50%',transform:'translate(-50%, -50%)'},className:\"basket_sale\",children:[/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"large\",sx:{position:'absolute',top:'-25px',right:'-25px',cursor:'pointer'},onClick:onClose}),/*#__PURE__*/_jsxs(Box,{sx:{width:'250px'},children:[/*#__PURE__*/_jsx(ModalItem,{images:data.imageSrc.map(function(image){return image.image;})}),/*#__PURE__*/_jsxs(Typography,{level:\"h4\",variant:\"string\",color:\"neutral\",sx:{textAlign:'center'},children:[\"\\u0426\\u0435\\u043D\\u0430: \",price?price:minPrice]})]}),/*#__PURE__*/_jsxs(Box,{display:'flex',flexDirection:'column',alignItems:'center',children:[/*#__PURE__*/_jsx(Typography,{level:\"h3\",variant:\"string\",color:\"neutral\",textAlign:'center',marginBottom:'15px',children:data.title}),/*#__PURE__*/_jsx(RadioModal,{data:data,selectedPrice:selectedPrice,onPriceChange:handlePriceChange,onDimension:handleDimensionChange,dimensions:dimensions}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",style:{margin:'auto 25%',width:'150px'},onClick:function onClick(){return addBasket(data,price,selectedDimensions);},children:\"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"})]})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Button","RadioModal","CloseIcon","ModalItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CardItem","_ref","isOpen","onClose","data","addBasket","dimensions","_useState","prices","price","_useState2","_slicedToArray","setPrice","_useState3","_useState4","minPrice","setMinPrice","_useState5","_useState6","selectedPrice","setselectedPrice","_useState7","height","diameter","radius","_useState8","selectedDimensions","setSelectedDimensions","map","parseInt","min","Math","apply","_toConsumableArray","handlePriceChange","newPrice","handleDimensionChange","newDimensions","children","style","position","top","left","width","backgroundColor","zIndex","onClick","display","padding","borderRadius","gap","transform","className","fontSize","sx","right","cursor","images","imageSrc","image","level","variant","color","textAlign","flexDirection","alignItems","marginBottom","title","onPriceChange","onDimension","margin"],"sources":["/Users/robertpasaev/yakovled/treety/src/components/CardItem.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Box, Typography } from '@mui/joy';\nimport Button from '@mui/joy/Button';\nimport RadioModal from './RadioModal';\nimport CloseIcon from '@mui/icons-material/Close';\nimport ModalItem from './ModalItem';\n\nexport default function CardItem({ isOpen, onClose, data, addBasket, dimensions }) {\n  const [price, setPrice] = useState(data.prices[0].price);\n  const [minPrice, setMinPrice] = useState(null);\n  const [selectedPrice, setselectedPrice] = useState(null);\n  const [selectedDimensions, setSelectedDimensions] = useState({\n    height: data.prices[0].height,\n    diameter: data.dimensions[0].radius,\n  });\n\n  \n\n\n  useEffect(() => {\n    const prices = data.prices.map((price) => parseInt(price.price));\n    const min = Math.min(...prices);\n    setMinPrice(min);\n    setselectedPrice(data.prices[0].height);\n  }, [data.prices]);\n\n  const handlePriceChange = (newPrice) => {\n    setPrice(newPrice);\n    setselectedPrice(newPrice);\n  };\n\n  const handleDimensionChange = (newDimensions) => {\n    setSelectedDimensions(newDimensions);\n  };\n  \n  return (\n    <>\n      {isOpen && (\n        <>\n          <div\n            style={{\n              position: 'fixed',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              backgroundColor: 'rgba(0, 0, 0, 0.5)',\n              zIndex: 1,\n            }}\n            onClick={onClose}\n          />\n          <div\n            style={{\n              display: 'flex',\n              backgroundColor: 'white',\n              padding: '20px',\n              borderRadius: '30px',\n              gap: '10px',\n              position: 'fixed',\n              zIndex: 2,\n              top: '50%',\n              left: '50%',\n              transform: 'translate(-50%, -50%)',\n            }}\n            className='basket_sale'\n          >\n            <CloseIcon\n              fontSize='large'\n              sx={{\n                position: 'absolute',\n                top: '-25px',\n                right: '-25px',\n                cursor: 'pointer',\n              }}\n              onClick={onClose}\n            />\n            <Box sx={{ width: '250px' }}>\n              <ModalItem images={data.imageSrc.map((image) => image.image)} />\n              <Typography level='h4' variant='string' color='neutral' sx={{textAlign: 'center'}}>\n              Цена: {price ? price : minPrice}\n\n              </Typography>\n            </Box>\n            <Box\n              display={'flex'}\n              flexDirection={'column'}\n              alignItems={'center'}\n            >\n              <Typography\n                level='h3'\n                variant='string'\n                color='neutral'\n                textAlign={'center'}\n                marginBottom={'15px'}\n              >\n                {data.title}\n              </Typography>\n              <RadioModal\n               data={data}\n               selectedPrice={selectedPrice}\n               onPriceChange={handlePriceChange}\n               onDimension={handleDimensionChange}\n               dimensions={dimensions}\n               \n              />\n\n              <Button\n                variant='outlined'\n                style={{ margin: 'auto 25%', width: '150px' }}\n                onClick={() => addBasket(data, price, selectedDimensions)}\n              >\n                В корзину\n              </Button>\n            </Box>\n          </div>\n        </>\n      )}\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}